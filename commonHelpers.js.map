{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { getImages }\n\n//----------------------------------\n\nfunction getImages(imageName) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n    key: '44085737-801aedd726c9c1496368a8656',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n    })\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url)\n    .then(res => {\n        if (!res.ok) {\n        throw new Error(res.statusText);\n        }\n        return res.json();\n    })\n}","export { imageTamplate };\n//----------------------------------\n\nfunction createMarkup({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n    return `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        <ul class=\"info\">\n        <li class=\"info-item\"> <h3 class=\"info-title\">Likes</h3><p class=\"info-text\">${likes}</p></li>\n        <li class=\"info-item\"> <h3 class=\"info-title\">Views</h3><p class=\"info-text\">${views}</p></li>\n        <li class=\"info-item\"> <h3 class=\"info-title\">Comments</h3><p class=\"info-text\">${comments}</p></li>\n        <li class=\"info-item\"> <h3 class=\"info-title\">Downloads</h3><p class=\"info-text\">${downloads}</p></li>\n        </ul>\n        </a>\n    </li>\n    `;\n}\n\nfunction imageTamplate(arr) {\n    return arr.map(createMarkup).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//------------------Simple Light box----------------\n\nconst lightbox = new SimpleLightbox(\".gallery a\", { captionDelay: 250, captionsData: \"alt\" });\n\nimport { getImages } from './js/pixabay-api.js';\nimport { imageTamplate } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst loader = document.querySelector('.loader');\nconst imageGallery = document.querySelector('.gallery');\n\nlet imageName = '';\n\nform.addEventListener('input', (event) => {\n    imageName = event.target.value.trim();\n});\n\nform.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n    event.preventDefault();\n    imageGallery.innerHTML = '';\n    showLoader();\n\n    if (imageName === '') {\n    return;\n    }\n\n    getImages(imageName)\n    .then(data => {\n        if (data.hits.length === 0) {\n        return iziToast.error({ ...errorParams });\n        }\n\n        const markup = imageTamplate(data.hits);\n        imageGallery.innerHTML = markup;\n        lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n        hideLoader();\n    });\n    return event.target.reset();\n}\n\n//---------------------Loader-----------------------\n\nfunction showLoader() {\n    loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\n//------------------iziToast params----------------\n\nconst errorParams = {\n    position: 'topRight',\n    timeout: 1800,\n    maxWidth: 300,\n    icon: 'none',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n}\n\n"],"names":["getImages","imageName","BASE_URL","params","url","res","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imageTamplate","arr","lightbox","SimpleLightbox","form","loader","imageGallery","event","onSubmit","showLoader","data","iziToast","errorParams","markup","error","hideLoader"],"mappings":"6vBAIA,SAASA,EAAUC,EAAW,CAC1B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACT,MAAM,IAAI,MAAMA,EAAI,UAAU,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCpBA,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CAC5F,MAAO;AAAA;AAAA,wCAE6BL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,uFAEmBC,CAAK;AAAA,uFACLC,CAAK;AAAA,0FACFC,CAAQ;AAAA,2FACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKpG,CAEA,SAASC,EAAcC,EAAK,CACxB,OAAOA,EAAI,IAAIT,CAAY,EAAE,KAAK,EAAE,CACxC,CCfA,MAAMU,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,KAAK,CAAE,EAKtFC,EAAO,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EACpD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,UAAU,EAEtD,IAAInB,EAAY,GAEhBiB,EAAK,iBAAiB,QAAUG,GAAU,CACtCpB,EAAYoB,EAAM,OAAO,MAAM,KAAI,CACvC,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAQ,EACxC,SAASA,EAASD,EAAO,CAKrB,GAJAA,EAAM,eAAc,EACpBD,EAAa,UAAY,GACzBG,IAEItB,IAAc,GAIlB,OAAAD,EAAUC,CAAS,EAClB,KAAKuB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACzB,OAAOC,EAAS,MAAM,CAAE,GAAGC,CAAa,CAAA,EAGxC,MAAMC,EAASb,EAAcU,EAAK,IAAI,EACtCJ,EAAa,UAAYO,EACzBX,EAAS,QAAO,CACxB,CAAK,EACA,MAAMY,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXC,GACR,CAAK,EACMR,EAAM,OAAO,OACxB,CAIA,SAASE,GAAa,CAClBJ,EAAO,MAAM,QAAU,cAC3B,CAEA,SAASU,GAAa,CAClBV,EAAO,MAAM,QAAU,MAC3B,CAIA,MAAMO,EAAc,CAChB,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,0EACb"}