{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { getImages }\n\n//----------------------------------\n\nfunction getImages(imageName) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n    key: '44085737-801aedd726c9c1496368a8656',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n    })\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url)\n    .then(res => {\n        if (!res.ok) {\n        throw new Error(res.statusText);\n        }\n        return res.json();\n    })\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport { imageTamplate };\n//----------------------------------\n\nfunction createMarkup({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n    return `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <ul class=\"info\">\n        <li class=\"info-item\"> <b>Likes</b> ${likes} </li>\n        <li class=\"info-item\"> <b>Views</b> ${views} </li>\n        <li class=\"info-item\"> <b>Comments</b> ${comments} </li>\n        <li class=\"info-item\"> <b>Downloads</b> ${downloads} </li>\n        </ul>\n    </li>\n    `;\n}\n\nfunction imageTamplate(arr) {\n    return arr.map(createMarkup).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api.js';\nimport { imageTamplate } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst loader = document.querySelector('.loader');\nconst imageGallery = document.querySelector('.gallery');\n\nlet imageName = '';\n\nform.addEventListener('input', (event) => {\n    imageName = event.target.value.trim();\n});\n\nform.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n    event.preventDefault();\n    showLoader();\n\n    if (imageName === '') {\n    return;\n    }\n\n    getImages(imageName)\n    .then(data => {\n        if (data.hits.length === 0) {\n        imageGallery.innerHTML = '';\n        return iziToast.error({ ...errorParams });\n        }\n\n        const markup = imageTamplate(data.hits);\n        imageGallery.innerHTML = markup;\n        lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n        hideLoader();\n    });\n    return event.target.reset();\n}\n\n//---------------------Loader-----------------------\n\nfunction showLoader() {\n    loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\n//------------------iziToast params----------------\n\nconst errorParams = {\n    position: 'topRight',\n    timeout: 1800,\n    maxWidth: 300,\n    icon: 'none',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n}\n\n//------------------Simple Light box----------------\n\nlet lightbox = new SimpleLightbox(\".gallery a\", { captionDelay: 250, captionsData: \"alt\" });"],"names":["getImages","imageName","BASE_URL","params","url","res","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imageTamplate","arr","form","loader","imageGallery","event","onSubmit","showLoader","data","iziToast","errorParams","markup","lightbox","error","hideLoader","SimpleLightbox"],"mappings":"6vBAIA,SAASA,EAAUC,EAAW,CAC1B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACT,MAAM,IAAI,MAAMA,EAAI,UAAU,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCjBA,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CAC5F,MAAO;AAAA;AAAA,wCAE6BL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8CAGtBC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA;AAAA,KAI3D,CAEA,SAASC,EAAcC,EAAK,CACxB,OAAOA,EAAI,IAAIT,CAAY,EAAE,KAAK,EAAE,CACxC,CChBA,MAAMU,EAAO,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EACpD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,UAAU,EAEtD,IAAIjB,EAAY,GAEhBe,EAAK,iBAAiB,QAAUG,GAAU,CACtClB,EAAYkB,EAAM,OAAO,MAAM,KAAI,CACvC,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAQ,EACxC,SAASA,EAASD,EAAO,CAIrB,GAHAA,EAAM,eAAc,EACpBE,IAEIpB,IAAc,GAIlB,OAAAD,EAAUC,CAAS,EAClB,KAAKqB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACzB,OAAAJ,EAAa,UAAY,GAClBK,EAAS,MAAM,CAAE,GAAGC,CAAa,CAAA,EAGxC,MAAMC,EAASX,EAAcQ,EAAK,IAAI,EACtCJ,EAAa,UAAYO,EACzBC,EAAS,QAAO,CACxB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXC,GACR,CAAK,EACMT,EAAM,OAAO,OACxB,CAIA,SAASE,GAAa,CAClBJ,EAAO,MAAM,QAAU,cAC3B,CAEA,SAASW,GAAa,CAClBX,EAAO,MAAM,QAAU,MAC3B,CAIA,MAAMO,EAAc,CAChB,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,0EACb,EAIA,IAAIE,EAAW,IAAIG,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO"}